/* Interactive map mode styles */
.interactive-map-mode #map-container .maplibregl-canvas {
    cursor: pointer !important;
}

/* Region text box styles */
.region-text-box {
    position: absolute;
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    pointer-events: none;
    /* Allow clicks to pass through to the map */
    white-space: nowrap;
    transform: translate(-50%, -100%);
    /* Adjust to center above the click point */
    z-index: 1000;
    /* Ensure it's above the map */
}

body {
    display: flex;
    min-height: 100vh;
    flex-direction: column;
    margin: 0;
    font-family: sans-serif;
}

main {
    flex: 1 0 auto;
    display: flex;
}

#app {
    flex-grow: 1;
    display: flex;
    position: relative;
}

#map-container {
    flex-grow: 1;
}

#map {
    width: 100%;
    height: 100%;
}

/* Panels are now inside the Materialize sidenav */
.panel {
    padding: 20px;
}

/* IOS Bubble Style for Info Panel */
#info-panel {
    position: absolute;
    background-color: rgba(0, 0, 0, 0.8);
    /* Black with 20% transparency (0.8 opacity) */
    color: white;
    width: max-content;
    max-width: 300px;
    border-radius: 12px;
    padding: 15px 15px 10px 15px;
    z-index: 1000;
    display: none;
    /* Hidden by default */
    transform: translate(-50%, -100%);
    /* Center horizontally and sit above the click */
    font-size: 14px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-top: -15px;
    /* Spacing from cursor/click point */
}

/* Close buttons */
#info-panel .close-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background: transparent;
    border: none;
    color: white;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    z-index: 1001;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

#info-panel .close-button:hover {
    opacity: 1;
}

#filter-panel .close-button {
    position: absolute;
    top: 10px;
    right: 15px;
    background: transparent;
    border: none;
    color: #888;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s ease;
}

#filter-panel .close-button:hover {
    color: #000;
}

/* Arrow for the bubble */
#info-panel::after {
    content: '';
    position: absolute;
    bottom: -6px;
    /* Position below the bubble */
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 6px solid rgba(0, 0, 0, 0.8);
    /* Match background color */
}

#info-panel strong {
    font-weight: 600;
}

#info-panel span {
    font-weight: 400;
}

/* Tweak inner spacing if needed, though simple structure helps */
#info-panel .card-content {
    padding: 0;
    /* Remove default card padding if class remains, or just ensured */
}

/* Override potential material defaults */
#info-panel p {
    margin: 2px 0;
    line-height: 1.4;
}

#info-panel .card-title {
    display: none;
    /* Hide 'Region Info' title for cleaner ios look, or style it smaller */
}

/* Filter Panel Styles */
#filter-panel {
    /* Styles handled by Materialize sidenav container mostly */
    background-color: white;
    /* Ensure it doesn't get hidden if parent has issues */
    height: auto;
}

#filter-panel h4 {
    margin-top: 0;
}

#filter-toggle-button {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 1003;
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

/* Filter Modal Dialog */
#filter-modal {
    position: absolute;
    /* Changed from fixed to absolute to stay relative to the page if needed, but fixed works better for UI usually. User asked for 'right of the screen just below the header'. */
    top: 70px;
    /* Just below header (approx 64px) */
    right: 20px;
    width: 300px;
    z-index: 1000;
}

#filter-modal .modal-close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    color: white;
    z-index: 1001;
}